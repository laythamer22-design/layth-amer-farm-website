// 1. Generator configuration for Vercel/Linux compatibility
generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "rhel-openssl-1.0.x", "rhel-openssl-3.0.x"]
}

// 2. Database connection
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// 3. Main Booking Model (Includes ID, Residency cards, and unique date logic)
model Booking {
  id               String   @id @default(uuid())
  date             DateTime @unique 
  customerName     String
  customerPhone    String
  visitorType      String   
  type             String   @default("STANDARD")
  
  // Storage for Identity documents (ID and Residency)
  idCardUrl        String?  
  residencyCardUrl String?  
  
  status           String   @default("PENDING") 
  createdAt        DateTime @default(now())
}

// 4. Knowledge base for AI (OpenAI)
model FarmSettings {
  id            Int      @id @default(1)
  farmKnowledge String   @db.Text 
  updatedAt     DateTime @updatedAt
}
