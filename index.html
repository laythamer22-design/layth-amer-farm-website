<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Royal Oasis | Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@700;900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

    <style>
        :root { --gold: #c5a059; --dark: #050505; }
        
        /* Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø®Ø· Ù„ÙŠÙƒÙˆÙ† Ø¨Ø§Ø±Ø²Ø§Ù‹ Ø¬Ø¯Ø§Ù‹ */
        body { 
            font-family: 'Tajawal', sans-serif; 
            background: var(--dark); 
            color: white;
            --main-shadow: 0 10px 30px rgba(0,0,0,0.9);
        }

        .font-ultra { 
            font-weight: 900 !important;
            text-shadow: 4px 4px 0px rgba(0,0,0,0.8), 0 0 30px rgba(197,160,89,0.4);
            -webkit-text-stroke: 1px rgba(255,255,255,0.1);
        }

        /* Ù…Ø­Ø±Ùƒ Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…ØµÙ„Ø­ */
        .dynamic-bg { position: fixed; inset: 0; z-index: -2; background-size: cover; background-position: center; transition: 1.5s; filter: brightness(0.6); }
        .vignette { position: fixed; inset: 0; z-index: -1; background: radial-gradient(circle, transparent 30%, #000 120%); }

        /* ØºØ±ÙØ© Ø§Ù„ØªØ­ÙƒÙ… - ØªØµÙ…ÙŠÙ… Ø¹ØµØ±ÙŠ Ø¶Ø®Ù… */
        #adminOS { 
            display: none; position: fixed; inset: 0; z-index: 9999; 
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            padding: 20px; overflow-y: auto; border: 5px solid var(--gold);
        }
        
        .admin-input-group { background: rgba(255,255,255,0.03); border: 1px solid rgba(197,160,89,0.3); padding: 25px; border-radius: 30px; }
        
        input { background: #000 !important; border: 1px solid #333 !important; color: var(--gold) !important; font-weight: bold; padding: 12px; border-radius: 10px; width: 100%; }
        
        .upload-card { background: #111; padding: 15px; border-radius: 20px; border: 1px solid #222; text-align: center; }
        .preview-thumb { width: 100%; height: 100px; object-fit: cover; border-radius: 10px; margin-top: 10px; border: 1px solid var(--gold); }
    </style>
</head>
<body>

    <div id="mainBg" class="dynamic-bg" style="background-image: url('https://images.unsplash.com/photo-1582268611958-ebfd161ef9cf?q=80&w=2000')"></div>
    <div class="vignette"></div>

    <nav class="fixed top-0 w-full z-50 p-6 flex justify-between items-center bg-black/20 backdrop-blur-md">
        <h1 id="farmTitle" class="text-3xl font-ultra gold-gradient-text italic text-[#c5a059]">Ù…Ø²Ø±Ø¹Ø© Ø£Ø¨Ùˆ Ø³ÙŠÙ ÙˆØ£Ø¨Ùˆ Ù†Ù…Ø±</h1>
        <button onclick="openAdmin()" class="bg-[#c5a059] text-black px-6 py-2 rounded-full font-black text-sm">ØºØ±ÙØ© Ø§Ù„ØªØ­ÙƒÙ… CORE</button>
    </nav>

    <section class="h-screen flex flex-col items-center justify-center text-center p-4">
        <h2 class="text-6xl md:text-[120px] font-ultra mb-4 text-white uppercase italic leading-none">The Royal Oasis</h2>
        <p id="locationText" class="text-xl md:text-3xl font-bold text-[#c5a059] tracking-widest bg-black/50 px-8 py-2 rounded-full">Ø£Ø·Ø±Ø§Ù Ø§Ù„ÙÙ„ÙˆØ¬Ø© - Ø§Ù„Ø¹Ø±Ø§Ù‚</p>
    </section>

    <section class="max-w-7xl mx-auto py-20 px-6 grid md:grid-cols-3 gap-8">
        <img id="gal1" src="https://images.unsplash.com/photo-1576013551627-0cc20b96c2a7?w=800" class="h-80 w-full object-cover rounded-[40px] border-2 border-gold/30">
        <img id="gal2" src="https://images.unsplash.com/photo-1600607687940-47a04b6bd9a1?w=800" class="h-80 w-full object-cover rounded-[40px] border-2 border-gold/30">
        <img id="gal3" src="https://images.unsplash.com/photo-1585320806297-9794b3e4eeae?w=800" class="h-80 w-full object-cover rounded-[40px] border-2 border-gold/30">
    </section>

    <section class="max-w-4xl mx-auto py-20 px-6">
        <div class="bg-black/60 backdrop-blur-3xl border-2 border-gold/30 p-10 rounded-[50px]">
            <h3 class="text-4xl font-ultra text-[#c5a059] text-center mb-10 italic">ØªØ£Ù…ÙŠÙ† Ø­Ø¬Ø² Ù…Ù„ÙƒÙŠ</h3>
            <div class="grid md:grid-cols-2 gap-6">
                <input type="text" id="cName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
                <input type="tel" id="cPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
                <input type="text" id="cDate" placeholder="Ø§Ø®ØªØ± Ø§Ù„ØªØ§Ø±ÙŠØ®">
                <div class="grid grid-cols-2 gap-2 md:col-span-2">
                    <div class="bg-white/5 p-4 rounded-xl text-center">
                        <span class="text-[10px] block mb-2 opacity-60">Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù‡ÙˆÙŠØ©</span>
                        <input type="file" id="fId" class="text-[8px]">
                    </div>
                    <div class="bg-white/5 p-4 rounded-xl text-center">
                        <span class="text-[10px] block mb-2 opacity-60">Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø³ÙƒÙ†</span>
                        <input type="file" id="fRes" class="text-[8px]">
                    </div>
                </div>
            </div>
            <button onclick="bookingAction()" class="w-full mt-10 bg-[#c5a059] text-black font-black py-6 rounded-2xl text-2xl shadow-2xl hover:bg-white transition-all">ØªØ£ÙƒÙŠØ¯ ÙˆØ¥Ø±Ø³Ø§Ù„ ÙˆØ§ØªØ³Ø§Ø¨ ğŸŸ¢</button>
        </div>
    </section>

    <div id="adminOS">
        <div class="max-w-6xl mx-auto">
            <div class="flex justify-between items-center mb-10 border-b-2 border-gold pb-6">
                <h2 class="text-4xl font-ultra text-[#c5a059]">Ø¥Ø¯Ø§Ø±Ø© Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø²Ø±Ø¹Ø© Ø§Ù„ÙƒØ§Ù…Ù„</h2>
                <button onclick="closeAdmin()" class="bg-red-600 px-10 py-3 rounded-full font-black text-white">Ø¥ØºÙ„Ø§Ù‚ ÙˆØ­ÙØ¸</button>
            </div>

            <div class="grid lg:grid-cols-2 gap-10">
                <div class="admin-input-group">
                    <h4 class="text-2xl font-black mb-6 border-b border-gold/20 pb-2 italic">1. ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</h4>
                    <div class="space-y-4">
                        <label class="text-xs">Ø§Ø³Ù… Ø§Ù„Ù…Ø²Ø±Ø¹Ø© Ø§Ù„Ø¸Ø§Ù‡Ø±:</label><input type="text" id="admT">
                        <label class="text-xs">Ø§Ù„Ù…ÙˆÙ‚Ø¹ (ØªØ­Øª Ø§Ù„Ø§Ø³Ù…):</label><input type="text" id="admL">
                        <label class="text-xs">Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª (Ø¨Ø¯ÙˆÙ† +):</label><input type="text" id="admW" placeholder="9647700000000">
                    </div>
                </div>

                <div class="admin-input-group">
                    <h4 class="text-2xl font-black mb-6 border-b border-gold/20 pb-2 italic">2. Ù…Ø­Ø±Ùƒ Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø¨Ø§Ø´Ø±</h4>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="upload-card">
                            <span class="text-[10px]">Ø®Ù„ÙÙŠØ© Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©</span>
                            <input type="file" onchange="syncImage(this, 'mainBg')">
                            <img id="thumb_mainBg" class="preview-thumb">
                        </div>
                        <div class="upload-card">
                            <span class="text-[10px]">ØµÙˆØ±Ø© Ø§Ù„Ù…Ø¹Ø±Ø¶ 1</span>
                            <input type="file" onchange="syncImage(this, 'gal1')">
                            <img id="thumb_gal1" class="preview-thumb">
                        </div>
                        <div class="upload-card">
                            <span class="text-[10px]">ØµÙˆØ±Ø© Ø§Ù„Ù…Ø¹Ø±Ø¶ 2</span>
                            <input type="file" onchange="syncImage(this, 'gal2')">
                            <img id="thumb_gal2" class="preview-thumb">
                        </div>
                        <div class="upload-card">
                            <span class="text-[10px]">ØµÙˆØ±Ø© Ø§Ù„Ù…Ø¹Ø±Ø¶ 3</span>
                            <input type="file" onchange="syncImage(this, 'gal3')">
                            <img id="thumb_gal3" class="preview-thumb">
                        </div>
                    </div>
                </div>
            </div>

            <button onclick="applyChanges()" class="w-full mt-10 bg-green-600 py-6 rounded-[30px] font-black text-3xl text-white shadow-2xl">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¢Ù† âœ…</button>
        </div>
    </div>

    <script>
        // 1. ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ‚ÙˆÙŠÙ…
        flatpickr("#cDate", { minDate: "today", locale: "ar", dateFormat: "Y-m-d" });

        // 2. Ù…Ø­Ø±Ùƒ Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…ØµÙ„Ø­ - ÙŠØ¶Ù…Ù† Ø§Ù„ØªØºÙŠÙŠØ± Ø§Ù„ÙÙˆØ±ÙŠ
        function syncImage(input, targetId) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const result = e.target.result;
                    const target = document.getElementById(targetId);
                    const thumb = document.getElementById('thumb_' + targetId);
                    
                    if (target.tagName === 'IMG') {
                        target.src = result;
                    } else {
                        target.style.backgroundImage = `url('${result}')`;
                    }
                    if(thumb) thumb.src = result;
                    
                    // Ø­ÙØ¸ ÙÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ù„ÙƒÙŠ Ù„Ø§ ØªØ®ØªÙÙŠ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ø¯ÙŠØ«
                    localStorage.setItem(targetId, result);
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

        // 3. Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
        window.onload = function() {
            const targets = ['mainBg', 'gal1', 'gal2', 'gal3'];
            targets.forEach(id => {
                const saved = localStorage.getItem(id);
                if(saved) {
                    const el = document.getElementById(id);
                    if(el.tagName === 'IMG') el.src = saved;
                    else el.style.backgroundImage = `url('${saved}')`;
                }
            });
        };

        // 4. Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø¯ÙŠØ±
        function openAdmin() {
            if(prompt("ÙƒÙˆØ¯ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø³Ø±ÙŠ:") === "1234") {
                document.getElementById('adminOS').style.display = 'block';
                document.getElementById('admT').value = document.getElementById('farmTitle').innerText;
                document.getElementById('admL').value = document.getElementById('locationText').innerText;
            }
        }
        function closeAdmin() { document.getElementById('adminOS').style.display = 'none'; }

        function applyChanges() {
            document.getElementById('farmTitle').innerText = document.getElementById('admT').value;
            document.getElementById('locationText').innerText = document.getElementById('admL').value;
            alert("ØªÙ… ØªØ­Ø¯ÙŠØ« ÙƒØ§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„ØµÙˆØ± Ø¨Ù†Ø¬Ø§Ø­!");
            closeAdmin();
        }

        // 5. Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø¬Ø² ÙˆØ§Ù„ÙˆØ§ØªØ³Ø§Ø¨
        function bookingAction() {
            const n = document.getElementById('cName').value;
            const p = document.getElementById('cPhone').value;
            const d = document.getElementById('cDate').value;
            const wa = document.getElementById('admW').value || "9647700000000";

            if(!n || !p || !d) return alert("ÙŠØ±Ø¬Ù‰ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹");

            const msg = `ğŸ›ï¸ *Ø·Ù„Ø¨ Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯*%0AğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${n}%0AğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${p}%0AğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: ${d}%0A%0AğŸ“ _ØªÙ… Ø±ÙØ¹ Ø§Ù„Ù…Ø³ØªÙ…Ø³ÙƒØ§Øª Ø¹Ø¨Ø± Ø§Ù„Ù†Ø¸Ø§Ù…._`;
            alert("âœ… Ø³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„Ùƒ Ø§Ù„Ø¢Ù† Ù„Ù„ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ ÙˆØ¥ØªÙ…Ø§Ù… Ø§Ù„Ø­Ø¬Ø².");
            window.location.href = `https://wa.me/${wa}?text=${msg}`;
        }
    </script>
</body>
</html>
