<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Royal Oasis | Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

    <style>
        :root { --gold: #c5a059; --dark: #050505; }
        body { font-family: 'Tajawal', sans-serif; background: var(--dark); color: white; overflow-x: hidden; }

        /* Ø¥Ø¨Ø±Ø§Ø² Ø§Ù„Ø®Ø· Ø§Ù„Ø³ÙŠÙ†Ù…Ø§Ø¦ÙŠ */
        .font-ultra { 
            font-weight: 900 !important; 
            text-shadow: 4px 4px 15px #000;
            -webkit-text-stroke: 0.5px rgba(255,255,255,0.1);
        }

        .dynamic-bg { position: fixed; inset: 0; z-index: -2; background-size: cover; background-position: center; filter: brightness(0.4); transition: 1.5s; }
        
        /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ø£Ù„Ø¨ÙˆÙ…Ø§Øª */
        .album-card { 
            position: relative; height: 300px; border-radius: 25px; overflow: hidden; 
            cursor: pointer; border: 1px solid rgba(197, 160, 89, 0.3); transition: 0.4s;
        }
        .album-card:hover { transform: scale(1.03); border-color: var(--gold); }
        .album-overlay { position: absolute; inset: 0; background: linear-gradient(to top, #000, transparent); display: flex; flex-direction: column; justify-content: flex-end; padding: 20px; }

        /* ØºØ±ÙØ© Ø§Ù„Ù…Ø¯ÙŠØ± OS */
        #adminOS { display: none; position: fixed; inset: 0; z-index: 9999; background: #050505; padding: 25px; overflow-y: auto; border: 5px solid var(--gold); }
        .admin-card { background: rgba(255,255,255,0.03); border: 1px solid #333; padding: 20px; border-radius: 20px; margin-bottom: 20px; }

        /* Ø§Ù„ÙˆØµÙ„ Ø§Ù„Ø±Ù‚Ù…ÙŠ */
        #receipt { background: white; color: black; padding: 40px; border-radius: 0; width: 500px; position: fixed; left: -1000px; }
        .receipt-header { border-bottom: 2px solid #000; padding-bottom: 10px; margin-bottom: 20px; text-align: center; }
        
        input, select { background: #111 !important; border: 1px solid #333 !important; color: var(--gold) !important; padding: 12px; border-radius: 10px; width: 100%; }
        .locked { background: rgba(34, 197, 94, 0.1) !important; cursor: not-allowed; }
    </style>
</head>
<body>

    <div id="mainBg" class="dynamic-bg" style="background-image: url('https://images.unsplash.com/photo-1582268611958-ebfd161ef9cf?q=80&w=2000')"></div>

    <nav class="fixed top-0 w-full z-50 p-6 flex justify-between items-center backdrop-blur-md">
        <h1 id="farmTitle" class="text-3xl font-ultra text-gold italic">Ù…Ø²Ø±Ø¹Ø© Ø£Ø¨Ùˆ Ø³ÙŠÙ ÙˆØ£Ø¨Ùˆ Ù†Ù…Ø±</h1>
        <button onclick="openAdmin()" class="bg-gold text-black px-8 py-2 rounded-full font-black">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø¸Ø§Ù…</button>
    </nav>

    <section class="h-screen flex flex-col items-center justify-center text-center">
        <h2 class="text-7xl md:text-[120px] font-ultra mb-4 italic">THE ROYAL OASIS</h2>
        <p id="locationText" class="text-2xl font-bold text-gold bg-black/50 px-8 py-2 rounded-full">Ø§Ù„ÙÙ„ÙˆØ¬Ø© - Ø§Ù„Ø£Ù†Ø¨Ø§Ø±</p>
    </section>

    <section class="max-w-7xl mx-auto py-20 px-6 grid md:grid-cols-3 gap-8">
        <div class="album-card" onclick="openGallery('pool')">
            <img id="img_pool" src="https://images.unsplash.com/photo-1576013551627-0cc20b96c2a7?w=800" class="w-full h-full object-cover">
            <div class="album-overlay"><h4 class="text-xl font-black">Ø§Ù„Ù…Ø³Ø§Ø¨Ø­ Ø§Ù„Ù…Ù„ÙƒÙŠØ©</h4></div>
        </div>
        <div class="album-card" onclick="openGallery('sports')">
            <img id="img_sports" src="https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=800" class="w-full h-full object-cover">
            <div class="album-overlay"><h4 class="text-xl font-black">Ø§Ù„Ù…Ù„Ø§Ø¹Ø¨ ÙˆØ§Ù„Ø±ÙŠØ§Ø¶Ø©</h4></div>
        </div>
        <div class="album-card" onclick="openGallery('billiard')">
            <img id="img_billiard" src="https://images.unsplash.com/photo-1544198365-f5d60b6d8190?w=800" class="w-full h-full object-cover">
            <div class="album-overlay"><h4 class="text-xl font-black">ØµØ§Ù„Ø© Ø§Ù„Ø¨Ù„ÙŠØ§Ø±Ø¯Ùˆ</h4></div>
        </div>
        <div class="album-card" onclick="openGallery('interior')">
            <img id="img_interior" src="https://images.unsplash.com/photo-1600607687940-47a04b6bd9a1?w=800" class="w-full h-full object-cover">
            <div class="album-overlay"><h4 class="text-xl font-black">Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ</h4></div>
        </div>
        <div class="album-card" onclick="openGallery('fun')">
            <img id="img_fun" src="https://images.unsplash.com/photo-1511192336575-5a79af67a629?w=800" class="w-full h-full object-cover">
            <div class="album-overlay"><h4 class="text-xl font-black">Ø§Ù„Ù‚Ø³Ù… Ø§Ù„ØªØ±ÙÙŠÙ‡ÙŠ</h4></div>
        </div>
    </section>

    <section class="max-w-4xl mx-auto py-20 px-6">
        <div class="bg-black/80 border-2 border-gold p-10 rounded-[40px] shadow-2xl">
            <h3 class="text-3xl font-ultra text-gold text-center mb-8 italic">Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø­Ø¬Ø² ÙˆØ§Ù„ØªØ¯Ù‚ÙŠÙ‚ Ø§Ù„Ù…Ø§Ù„ÙŠ</h3>
            <div class="grid md:grid-cols-2 gap-6">
                <input type="text" id="cName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ Ø§Ù„ÙƒØ§Ù…Ù„">
                <input type="tel" id="cPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„">
                <input type="text" id="cDate" placeholder="Ø§Ø®ØªØ± Ø§Ù„ØªØ§Ø±ÙŠØ®">
                <select id="cType" onchange="calcTotal()">
                    <option value="24">Ø¥Ù‚Ø§Ù…Ø© ÙƒØ§Ù…Ù„Ø© (24 Ø³Ø§Ø¹Ø©)</option>
                    <option value="12_AM">ØµØ¨Ø§Ø­ÙŠ (12 Ø³Ø§Ø¹Ø©)</option>
                    <option value="12_PM">Ù…Ø³Ø§Ø¦ÙŠ (12 Ø³Ø§Ø¹Ø©)</option>
                </select>
                <div class="md:col-span-2 grid grid-cols-2 gap-4">
                    <div class="bg-white/5 p-4 rounded-xl border border-dashed border-gold/30 text-center">
                        <span class="text-[10px]">Ø§Ù„Ù‡ÙˆÙŠØ©</span> <input type="file" id="fId" onchange="lockName()">
                    </div>
                    <div class="bg-white/5 p-4 rounded-xl border border-dashed border-gold/30 text-center">
                        <span class="text-[10px]">Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø³ÙƒÙ†</span> <input type="file" id="fRes" onchange="lockName()">
                    </div>
                </div>
            </div>
            
            <div class="mt-8 bg-gold/10 p-6 rounded-2xl border border-gold/20 text-center">
                <p class="text-xl font-black">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="totalPrice">0</span> Ø¯.Ø¹</p>
                <p class="text-[10px] opacity-60 mt-2 italic">Ø³ÙŠØªÙ… Ø¥ØµØ¯Ø§Ø± ÙˆØµÙ„ Ø¯ÙØ¹ Ø±Ø³Ù…ÙŠ ÙÙˆØ± Ø§Ù„ØªØ£ÙƒÙŠØ¯</p>
            </div>

            <button onclick="processBooking()" id="bookBtn" class="w-full mt-8 bg-gold text-black font-black py-6 rounded-2xl text-2xl shadow-xl hover:bg-white transition">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø² ÙˆØ¥ØµØ¯Ø§Ø± Ø§Ù„ÙˆØµÙ„ ğŸ§¾</button>
        </div>
    </section>

    <div id="adminOS">
        <div class="flex justify-between items-center mb-10 border-b-2 border-gold pb-6">
            <h2 class="text-4xl font-ultra text-gold">Ù…Ø±ÙƒØ² Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠ</h2>
            <button onclick="closeAdmin()" class="bg-red-600 px-8 py-2 rounded-full font-bold text-white">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>

        <div class="grid lg:grid-cols-2 gap-8">
            <div class="admin-card">
                <h4 class="text-gold font-bold mb-4 underline">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙˆØ± (Ø±ÙØ¹/Ø¥Ø²Ø§Ù„Ø©)</h4>
                <div class="grid grid-cols-2 gap-4">
                    <div><span class="text-[9px]">Ø§Ù„Ø®Ù„ÙÙŠØ©</span> <input type="file" onchange="syncImg(this, 'mainBg')"></div>
                    <div><span class="text-[9px]">Ø§Ù„Ù…Ø³Ø¨Ø­</span> <input type="file" onchange="syncImg(this, 'img_pool')"></div>
                    <div><span class="text-[9px]">Ø§Ù„Ù…Ù„Ø§Ø¹Ø¨</span> <input type="file" onchange="syncImg(this, 'img_sports')"></div>
                    <div><span class="text-[9px]">Ø§Ù„Ø¨Ù„ÙŠØ§Ø±Ø¯Ùˆ</span> <input type="file" onchange="syncImg(this, 'img_billiard')"></div>
                </div>
            </div>

            <div class="admin-card">
                <h4 class="text-gold font-bold mb-4 underline">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø±</h4>
                <div class="space-y-4">
                    <input type="number" id="admP24" placeholder="Ø³Ø¹Ø± Ø§Ù„Ù€ 24 Ø³Ø§Ø¹Ø©">
                    <input type="number" id="admP12" placeholder="Ø³Ø¹Ø± Ø§Ù„Ù€ 12 Ø³Ø§Ø¹Ø©">
                    <button class="bg-blue-600 w-full py-2 rounded-lg font-bold">Ø¥Ø¶Ø§ÙØ© Ø­Ø¬Ø² ÙŠØ¯ÙˆÙŠ +</button>
                    <button class="bg-red-900 w-full py-2 rounded-lg font-bold">Ø¥Ù„ØºØ§Ø¡ Ø­Ø¬Ø² Ù‚Ø§Ø¦Ù… -</button>
                </div>
            </div>
        </div>
        <button onclick="saveAdmin()" class="w-full mt-10 bg-green-600 py-6 rounded-3xl font-black text-2xl">ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª</button>
    </div>

    <div id="receipt">
        <div class="receipt-header">
            <h1 style="font-size: 24px; font-weight: 900;">Ù…Ø²Ø±Ø¹Ø© Ø£Ø¨Ùˆ Ø³ÙŠÙ ÙˆØ£Ø¨Ùˆ Ù†Ù…Ø±</h1>
            <p>ÙˆØµÙ„ Ø¯ÙØ¹ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ - Ø±Ù‚Ù… Ø§Ù„Ø­Ø¬Ø²: #<span id="rNum"></span></p>
        </div>
        <div style="line-height: 2;">
            <p><strong>Ø§Ø³Ù… Ø§Ù„Ø²Ø¨ÙˆÙ†:</strong> <span id="rName"></span></p>
            <p><strong>Ø§Ù„ØªØ§Ø±ÙŠØ®:</strong> <span id="rDate"></span></p>
            <p><strong>Ù†ÙˆØ¹ Ø§Ù„Ø­Ø¬Ø²:</strong> <span id="rType"></span></p>
            <hr>
            <p style="font-size: 20px; font-weight: 900; text-align: center;">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="rTotal"></span> Ø¯.Ø¹</p>
        </div>
        <p style="margin-top: 30px; font-size: 10px; text-align: center;">Ø´ÙƒØ±Ø§Ù‹ Ù„Ø§Ø®ØªÙŠØ§Ø±ÙƒÙ… Ù…Ù†ØªØ¬Ø¹Ù†Ø§ Ø§Ù„Ù…Ù„ÙƒÙŠ - ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„ÙˆØµÙ„</p>
    </div>

    <script>
        // Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø³Ø¹Ø§Ø± ÙˆØ§Ù„Ø­Ø³Ø§Ø¨Ø§Øª
        function calcTotal() {
            const type = document.getElementById('cType').value;
            const p24 = localStorage.getItem('p24') || 600000;
            const p12 = localStorage.getItem('p12') || 350000;
            document.getElementById('totalPrice').innerText = (type === '24' ? p24 : p12).toLocaleString();
        }

        // Ù‚ÙÙ„ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£Ù…Ù†ÙŠ
        function lockName() {
            const name = document.getElementById('cName');
            if(name.value.length < 5) {
                alert("Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ø§Ù„ØµØ±ÙŠØ­ Ø£ÙˆÙ„Ø§Ù‹!");
                document.getElementById('fId').value = "";
                return;
            }
            name.readOnly = true;
            name.classList.add('locked');
        }

        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø­Ø¬Ø² ÙˆØ§Ù„ÙˆØµÙ„ ÙˆØ§Ù„ÙˆØ§ØªØ³Ø§Ø¨
        function processBooking() {
            const name = document.getElementById('cName').value;
            const date = document.getElementById('cDate').value;
            const total = document.getElementById('totalPrice').innerText;
            const wa = localStorage.getItem('wa') || "9647700000000";

            if(!name || !date) return alert("ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª!");

            // Ù…Ù„Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙˆØµÙ„
            document.getElementById('rName').innerText = name;
            document.getElementById('rDate').innerText = date;
            document.getElementById('rTotal').innerText = total;
            document.getElementById('rNum').innerText = Math.floor(1000 + Math.random() * 9000);

            const msg = `ğŸ§¾ *ÙˆØµÙ„ Ø¯ÙØ¹ Ø±Ø³Ù…ÙŠ - Ù…Ø²Ø±Ø¹Ø© Ø£Ø¨Ùˆ Ø³ÙŠÙ ÙˆØ£Ø¨Ùˆ Ù†Ù…Ø±*%0A%0AğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${name}%0AğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: ${date}%0AğŸ’° Ø§Ù„Ù…Ø¨Ù„Øº: ${total} Ø¯.Ø¹%0Aâ³ *ØªØ°ÙƒÙŠØ±:* Ø³ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ù„Ùƒ Ù‚Ø¨Ù„ 24 Ø³Ø§Ø¹Ø© Ù…Ù† Ù…ÙˆØ¹Ø¯Ùƒ.`;
            
            alert("âœ… ØªÙ… Ø¥ØµØ¯Ø§Ø± Ø§Ù„ÙˆØµÙ„ ÙˆØªØ«Ø¨ÙŠØª Ø§Ù„Ø­Ø¬Ø². Ø³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„Ùƒ Ù„Ù„ÙˆØ§ØªØ³Ø§Ø¨.");
            window.location.href = `https://wa.me/${wa}?text=${msg}`;
        }

        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ù…Ø¯ÙŠØ±
        function syncImg(input, targetId) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    document.getElementById(targetId).src = e.target.result;
                    localStorage.setItem(targetId, e.target.result);
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

        function openAdmin() { if(prompt("ÙƒÙˆØ¯ Ø§Ù„Ø¯Ø®ÙˆÙ„:") === "1234") document.getElementById('adminOS').style.display='block'; }
        function closeAdmin() { document.getElementById('adminOS').style.display='none'; }

        function saveAdmin() {
            localStorage.setItem('p24', document.getElementById('admP24').value);
            localStorage.setItem('p12', document.getElementById('admP12').value);
            localStorage.setItem('wa', document.getElementById('admW').value);
            alert("ØªÙ… ØªØ­Ø¯ÙŠØ« ÙƒØ§ÙØ© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø±.");
            location.reload();
        }

        window.onload = function() {
            calcTotal();
            // Ø§Ø³ØªØ±Ø¬Ø§Ø¹ ÙƒØ§ÙØ© Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø®Ø²Ù†Ø©
            ['mainBg', 'img_pool', 'img_sports', 'img_billiard', 'img_interior', 'img_fun'].forEach(id => {
                const s = localStorage.getItem(id);
                if(s) document.getElementById(id).src = s;
            });
        };

        flatpickr("#cDate", { minDate: "today", locale: "ar" });
    </script>
</body>
</html>
