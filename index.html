<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Royal Oasis | Security & Management</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

    <style>
        :root { --gold: #c5a059; --dark: #050505; }
        body { font-family: 'Tajawal', sans-serif; background: var(--dark); color: white; }
        .font-ultra { font-weight: 900 !important; text-shadow: 2px 2px 20px #000; }
        
        /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ø£Ù‚Ø³Ø§Ù… (Ø§Ù„Ø£Ù„Ø¨ÙˆÙ…Ø§Øª) */
        .section-card { position: relative; height: 280px; border-radius: 25px; overflow: hidden; cursor: pointer; border: 1px solid rgba(197,160,89,0.2); transition: 0.4s; }
        .section-card:hover { transform: scale(1.02); border-color: var(--gold); }
        .section-card img { width: 100%; height: 100%; object-fit: cover; }
        .overlay { position: absolute; inset: 0; background: linear-gradient(to top, #000, transparent); display: flex; align-items: flex-end; padding: 20px; }

        /* Ø­Ø§Ù„Ø© Ø§Ù„Ø±ÙØ¶ ÙˆØ§Ù„Ù‚Ø¨ÙˆÙ„ */
        .input-error { border: 2px solid #ef4444 !important; background: rgba(239, 68, 68, 0.1) !important; }
        .input-success { border: 2px solid #22c55e !important; background: rgba(34, 197, 94, 0.1) !important; }
        
        #adminOS { display: none; position: fixed; inset: 0; z-index: 9999; background: #080808; padding: 30px; border: 5px solid var(--gold); overflow-y: auto; }
        input, select { background: #111 !important; border: 1px solid #333 !important; color: var(--gold) !important; padding: 12px; border-radius: 10px; width: 100%; outline: none; }
    </style>
</head>
<body>

    <div id="mainBg" class="fixed inset-0 -z-10 bg-cover bg-center brightness-[0.3]" style="background-image: url('https://images.unsplash.com/photo-1582268611958-ebfd161ef9cf?w=1600')"></div>

    <nav class="fixed top-0 w-full z-50 p-6 flex justify-between items-center bg-black/40 backdrop-blur-md">
        <h1 id="farmName" class="text-2xl font-ultra text-gold italic">Ù…Ø²Ø±Ø¹Ø© Ø£Ø¨Ùˆ Ø³ÙŠÙ ÙˆØ£Ø¨Ùˆ Ù†Ù…Ø±</h1>
        <button onclick="openAdmin()" class="bg-gold text-black px-6 py-2 rounded-full font-black text-sm">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø¸Ø§Ù…</button>
    </nav>

    <div class="pt-32 px-6 max-w-7xl mx-auto">
        <div class="grid md:grid-cols-3 gap-6 mb-20">
            <div class="section-card" onclick="alert('ÙØªØ­ Ø£Ù„Ø¨ÙˆÙ… Ø§Ù„Ù…Ø³Ø¨Ø­ ÙˆØ§Ù„Ù…Ù„Ø§Ø¹Ø¨...')">
                <img id="img1" src="https://images.unsplash.com/photo-1576013551627-0cc20b96c2a7?w=600">
                <div class="overlay"><div><h4 class="font-bold">Ø§Ù„Ù…Ø³Ø§Ø¨Ø­ ÙˆØ§Ù„Ù…Ù„Ø§Ø¹Ø¨</h4><p class="text-[10px]">Ø§Ø¶ØºØ· Ù„Ø§Ø³ØªØ¹Ø±Ø§Ø¶ Ø§Ù„Ø§Ù„Ø¨ÙˆÙ…</p></div></div>
            </div>
            <div class="section-card" onclick="alert('ÙØªØ­ Ø£Ù„Ø¨ÙˆÙ… Ø§Ù„ØµØ§Ù„Ø§Øª ÙˆØ§Ù„ØªØ±ÙÙŠÙ‡...')">
                <img id="img2" src="https://images.unsplash.com/photo-1544198365-f5d60b6d8190?w=600">
                <div class="overlay"><div><h4 class="font-bold">Ø§Ù„Ø¨Ù„ÙŠØ§Ø±Ø¯Ùˆ ÙˆØ§Ù„ØªØ±ÙÙŠÙ‡</h4><p class="text-[10px]">Ø§Ø¶ØºØ· Ù„Ø§Ø³ØªØ¹Ø±Ø§Ø¶ Ø§Ù„Ø§Ù„Ø¨ÙˆÙ…</p></div></div>
            </div>
            <div class="section-card" onclick="alert('ÙØªØ­ Ø£Ù„Ø¨ÙˆÙ… Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ...')">
                <img id="img3" src="https://images.unsplash.com/photo-1600607687940-47a04b6bd9a1?w=600">
                <div class="overlay"><div><h4 class="font-bold">Ø§Ù„Ø£Ø¬Ù†Ø­Ø© Ø§Ù„Ù…Ù„ÙƒÙŠØ©</h4><p class="text-[10px]">Ø§Ø¶ØºØ· Ù„Ø§Ø³ØªØ¹Ø±Ø§Ø¶ Ø§Ù„Ø§Ù„Ø¨ÙˆÙ…</p></div></div>
            </div>
        </div>

        <div class="max-w-2xl mx-auto bg-black/80 p-8 rounded-[40px] border-2 border-gold/30">
            <h3 class="text-3xl font-ultra text-gold text-center mb-8 italic">Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚ Ø§Ù„Ø£Ù…Ù†ÙŠ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±</h3>
            
            <div class="space-y-4">
                <div>
                    <label class="text-xs text-gray-400">Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ Ø§Ù„ÙƒØ§Ù…Ù„ (ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„Ù‡ÙˆÙŠØ©):</label>
                    <input type="text" id="cName" oninput="checkNameValidity()" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ Ù‡Ù†Ø§">
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <input type="tel" id="cPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„">
                    <input type="text" id="cDate" placeholder="ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø¬Ø²">
                </div>

                <select id="cType" onchange="updatePrice()">
                    <option value="24">Ø¥Ù‚Ø§Ù…Ø© 24 Ø³Ø§Ø¹Ø©</option>
                    <option value="12_AM">ØµØ¨Ø§Ø­ÙŠ (12 Ø³Ø§Ø¹Ø©)</option>
                    <option value="12_PM">Ù…Ø³Ø§Ø¦ÙŠ (12 Ø³Ø§Ø¹Ø©)</option>
                </select>

                <div class="p-6 bg-red-500/5 rounded-2xl border border-dashed border-red-500/30">
                    <p class="text-[10px] text-red-500 font-bold mb-4 text-center">âš ï¸ Ù†Ø¸Ø§Ù… Ø§Ù„Ø±ÙØ¶ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ: Ø³ÙŠØªÙ… Ø±ÙØ¶ Ø£ÙŠ ØµÙˆØ±Ø© Ù„Ø§ ØªØ·Ø§Ø¨Ù‚ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø³Ù…</p>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="text-center">
                            <span class="text-[9px]">ØµÙˆØ±Ø© Ø§Ù„Ù‡ÙˆÙŠØ©</span>
                            <input type="file" id="fId" onchange="securityVerify(this)">
                        </div>
                        <div class="text-center">
                            <span class="text-[9px]">Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø³ÙƒÙ†</span>
                            <input type="file" id="fRes" onchange="securityVerify(this)">
                        </div>
                    </div>
                </div>

                <div id="statusMsg" class="hidden text-center p-3 rounded-xl text-xs font-bold"></div>

                <button id="finalBtn" onclick="processBooking()" disabled class="w-full bg-gray-800 text-white font-black py-5 rounded-2xl text-xl opacity-30 cursor-not-allowed transition-all">Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</button>
            </div>
        </div>
    </div>

    <div id="adminOS">
        <div class="flex justify-between items-center border-b border-gold pb-4 mb-8">
            <h2 class="text-3xl font-ultra text-gold">Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø©</h2>
            <button onclick="closeAdmin()" class="bg-red-600 px-6 py-2 rounded-full font-bold">Ø®Ø±ÙˆØ¬</button>
        </div>
        <div class="grid md:grid-cols-2 gap-8">
            <div class="admin-card bg-white/5 p-6 rounded-2xl">
                <h4 class="text-gold font-bold mb-4 italic underline">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ø£Ø³Ø¹Ø§Ø±</h4>
                <div class="space-y-4">
                    <input type="number" id="admP24" placeholder="Ø³Ø¹Ø± Ø§Ù„Ù€ 24 Ø³Ø§Ø¹Ø©">
                    <input type="text" id="admWA" placeholder="Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©">
                    <div class="text-xs">ØªØ¨Ø¯ÙŠÙ„ Ø®Ù„ÙÙŠØ© Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©: <input type="file" onchange="sync(this, 'mainBg')"></div>
                </div>
            </div>
            <div class="admin-card bg-white/5 p-6 rounded-2xl">
                <h4 class="text-gold font-bold mb-4 italic underline">Ø³Ø¬Ù„ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª ÙˆØ§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©</h4>
                <div class="space-y-2">
                    <button class="w-full bg-blue-600 py-2 rounded font-bold">Ø¥Ø¶Ø§ÙØ© Ø­Ø¬Ø² ÙŠØ¯ÙˆÙŠ</button>
                    <button class="w-full bg-red-900 py-2 rounded font-bold">Ø¥Ù„ØºØ§Ø¡ Ø­Ø¬Ø² Ù‚Ø§Ø¦Ù…</button>
                    <p class="text-[10px] text-gray-400 mt-4 italic">ÙˆØµÙ„ Ø§Ù„Ø¯ÙØ¹ ÙŠÙˆÙ„Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù…Ø¹ Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø²Ø±Ø¹Ø©.</p>
                </div>
            </div>
        </div>
        <button onclick="saveAdmin()" class="w-full mt-10 bg-green-600 py-5 rounded-2xl font-black text-xl shadow-2xl">Ø­ÙØ¸ ÙˆØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª âœ…</button>
    </div>

    <script>
        // 1. Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„ØµØ§Ø±Ù…Ø©
        function checkNameValidity() {
            const name = document.getElementById('cName');
            const words = name.value.trim().split(' ');
            if(words.length < 4) {
                name.classList.add('input-error');
                return false;
            } else {
                name.classList.remove('input-error');
                name.classList.add('input-success');
                return true;
            }
        }

        function securityVerify(input) {
            const nameValid = checkNameValidity();
            const status = document.getElementById('statusMsg');
            const btn = document.getElementById('finalBtn');

            if(!nameValid) {
                alert("âŒ Ù†Ø¸Ø§Ù… Ø§Ù„Ø±ÙØ¶: ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ Ø§Ù„ØµØ­ÙŠØ­ Ø£ÙˆÙ„Ø§Ù‹ Ù‚Ø¨Ù„ Ø±ÙØ¹ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚.");
                input.value = "";
                return;
            }

            // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚: Ù‚ÙÙ„ Ø§Ù„Ø§Ø³Ù… ÙˆÙ…Ù†Ø¹ Ø§Ù„ØªÙ„Ø§Ø¹Ø¨
            document.getElementById('cName').readOnly = true;
            
            if(document.getElementById('fId').files.length > 0 && document.getElementById('fRes').files.length > 0) {
                status.innerText = "âœ… ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹ Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø© Ø¨Ø±Ù…Ø¬ÙŠØ§Ù‹.";
                status.className = "block text-center p-3 rounded-xl text-xs font-bold bg-green-500/20 text-green-500 border border-green-500/30";
                btn.disabled = false;
                btn.className = "w-full bg-gold text-black font-black py-5 rounded-2xl text-xl shadow-2xl hover:bg-white";
                btn.innerText = "ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø² ÙˆØ¥ØµØ¯Ø§Ø± Ø§Ù„ÙˆØµÙ„ ğŸ§¾";
            }
        }

        // 2. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø­Ø¬Ø² ÙˆØ§Ù„ÙˆØµÙ„ ÙˆØ§Ù„ÙˆØ§ØªØ³Ø§Ø¨
        function processBooking() {
            const name = document.getElementById('cName').value;
            const date = document.getElementById('cDate').value;
            const wa = localStorage.getItem('wa') || "9647700000000";
            const price = document.getElementById('cType').value === '24' ? 
                          (localStorage.getItem('p24') || "600,000") : "350,000";

            const msg = `ğŸ§¾ *ÙˆØµÙ„ Ø¯ÙØ¹ Ø±Ø³Ù…ÙŠ - Ù…Ø²Ø±Ø¹Ø© Ø£Ø¨Ùˆ Ø³ÙŠÙ ÙˆØ£Ø¨Ùˆ Ù†Ù…Ø±*%0A%0AğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${name}%0AğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: ${date}%0AğŸ’° Ø§Ù„Ù…Ø¨Ù„Øº: ${price} Ø¯.Ø¹%0A%0AğŸ›¡ï¸ *Ø­Ø§Ù„Ø© Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚:* ØªÙ… Ù…Ø·Ø§Ø¨Ù‚Ø© Ø§Ù„Ù‡ÙˆÙŠØ© Ù…Ø¹ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠ Ø¨Ù†Ø¬Ø§Ø­.%0Aâ³ *ØªÙ†Ø¨ÙŠÙ‡:* Ø³ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± ØªØ°ÙƒÙŠØ± Ù„Ùƒ Ù‚Ø¨Ù„ 24 Ø³Ø§Ø¹Ø©.`;
            
            alert("âœ… ØªÙ… Ø¥ØµØ¯Ø§Ø± Ø§Ù„ÙˆØµÙ„ ÙˆØªØ«Ø¨ÙŠØª Ø§Ù„Ø­Ø¬Ø². ÙŠØªÙ… Ø§Ù„Ø¢Ù† ØªØ­ÙˆÙŠÙ„Ùƒ Ù„Ù„ÙˆØ§ØªØ³Ø§Ø¨.");
            window.location.href = `https://wa.me/${wa}?text=${msg}`;
        }

        // 3. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¯ÙŠØ± ÙˆØ§Ù„ØµÙˆØ±
        function sync(input, id) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    const el = document.getElementById(id);
                    if(el.tagName === 'IMG') el.src = e.target.result;
                    else el.style.backgroundImage = `url('${e.target.result}')`;
                    localStorage.setItem(id, e.target.result);
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

        function openAdmin() { if(prompt("ACCESS CODE:") === "1234") document.getElementById('adminOS').style.display='block'; }
        function closeAdmin() { document.getElementById('adminOS').style.display='none'; }
        function saveAdmin() {
            localStorage.setItem('wa', document.getElementById('admWA').value);
            localStorage.setItem('p24', document.getElementById('admP24').value);
            location.reload();
        }

        window.onload = function() {
            ['mainBg', 'img1', 'img2', 'img3'].forEach(id => {
                const s = localStorage.getItem(id);
                if(s) {
                    const el = document.getElementById(id);
                    if(el.tagName === 'IMG') el.src = s;
                    else el.style.backgroundImage = `url('${s}')`;
                }
            });
        };

        flatpickr("#cDate", { minDate: "today", locale: "ar" });
    </script>
</body>
</html>
